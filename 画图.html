<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>画图</title>
		<style type="text/css">
			#canvas{
				border: 1px solid #333;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas" width="600" height="500"></canvas>
		<button onclick="btn()">画画</button>
		<button onclick="btn1()">擦除</button>
		<button onclick="btn2()">重画</button>
	</body>
	<script type="text/javascript">
		const cvs = document.getElementById('canvas');
		
		// 画画
		function btn(){
			cvs.onmousedown = function(){
				document.onmousemove = function(e){
					let ctx = canvas.getContext('2d');
					ctx.beginPath();
					ctx.fillStyle='red';
					ctx.fillRect(e.offsetX,e.offsetY,8,8);
					ctx.closePath()
				}
				document.onmouseup = function(){
					document.onmousemove = null;
				}
			}
		}
		// 擦除
		function btn1(){
			cvs.onmousedown = function(){
				document.onmousemove = function(e){
					let ctx = canvas.getContext('2d');
					// ctx.beginPath();
					ctx.clearRect(e.offsetX,e.offsetY,10,10)
					// ctx.closePath()
				}
				document.onmouseup = function(){
					document.onmousemove = null;
				}
			}
		}
		// 擦除
		function btn2(){
			let ctx = canvas.getContext('2d');
			ctx.clearRect(0,0,cvs.width,cvs.height);
		}
	</script>
</html>
